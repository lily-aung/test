<!DOCTYPE html>
<html>
<head>
  <style>
    #vis.vega-embed {
      width: 100%;
      display: flex;
    }

    #vis.vega-embed details,
    #vis.vega-embed details summary {
      position: relative;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-lite@5.20.1"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
</head>
<body>
  <div id="vis"></div>
  <script>
    (function(vegaEmbed) {
      var spec = {"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "hconcat": [{"data": {"name": "data-3a09108f7af6f4d5a053a11f55bf458f"}, "mark": {"type": "trail"}, "encoding": {"color": {"field": "delta", "legend": {"title": "Change in Mean"}, "scale": {"domain": [-0.8612737843551734, 0.8612737843551734], "domainMid": 0, "reverse": true, "scheme": "redblue"}, "type": "quantitative"}, "column": {"field": "GEO_CODE", "title": "Air Pollution Over Time: 2016 - 2019 (Pre-COVID)", "type": "nominal"}, "detail": {"field": "pollutant", "type": "nominal"}, "size": {"field": "Mean", "legend": {"title": "Mean Pollutant Level"}, "scale": {"range": [0, 10]}, "type": "quantitative"}, "tooltip": [{"field": "GEO_CODE", "type": "nominal"}, {"field": "Year", "type": "ordinal"}, {"field": "Mean", "type": "quantitative"}, {"field": "delta", "type": "quantitative"}], "x": {"field": "Year", "title": "Year", "type": "ordinal"}, "y": {"field": "pollutant", "title": "Pollutant", "type": "nominal"}}, "height": 100, "width": 100}, {"data": {"name": "data-fb716ecdb94892994ed0637ccfee6559"}, "mark": {"type": "trail"}, "encoding": {"color": {"field": "delta", "legend": {"title": "Change in Mean"}, "scale": {"domain": [-2.6181395348837206, 2.6181395348837206], "domainMid": 0, "reverse": true, "scheme": "redblue"}, "type": "quantitative"}, "column": {"field": "GEO_CODE", "title": "Air Pollution Over Time: 2019 - 2021 (During COVID)", "type": "nominal"}, "detail": {"field": "pollutant", "type": "nominal"}, "size": {"field": "Mean", "legend": {"title": "Mean Pollutant Level"}, "scale": {"range": [0, 10]}, "type": "quantitative"}, "tooltip": [{"field": "GEO_CODE", "type": "nominal"}, {"field": "Year", "type": "ordinal"}, {"field": "Mean", "type": "quantitative"}, {"field": "delta", "type": "quantitative"}], "x": {"field": "Year", "title": "Year", "type": "ordinal"}, "y": {"field": "pollutant", "title": "Pollutant", "type": "nominal"}}, "height": 100, "width": 100}, {"data": {"name": "data-c4199a00b3eab12b122b294d9e773faf"}, "mark": {"type": "trail"}, "encoding": {"color": {"field": "delta", "legend": {"title": "Change in Mean"}, "scale": {"domain": [-1.6658562367864675, 1.6658562367864675], "domainMid": 0, "reverse": true, "scheme": "redblue"}, "type": "quantitative"}, "column": {"field": "GEO_CODE", "title": "Air Pollution Over Time: 2021 - 2022 (Post-COVID)", "type": "nominal"}, "detail": {"field": "pollutant", "type": "nominal"}, "size": {"field": "Mean", "legend": {"title": "Mean Pollutant Level"}, "scale": {"range": [0, 10]}, "type": "quantitative"}, "tooltip": [{"field": "GEO_CODE", "type": "nominal"}, {"field": "Year", "type": "ordinal"}, {"field": "Mean", "type": "quantitative"}, {"field": "delta", "type": "quantitative"}], "x": {"field": "Year", "title": "Year", "type": "ordinal"}, "y": {"field": "pollutant", "title": "Pollutant", "type": "nominal"}}, "height": 100, "width": 100}], "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-3a09108f7af6f4d5a053a11f55bf458f": [{"GEO_CODE": "BC", "pollutant": "O3", "delta": -0.14973340896199971, "Year": 2016, "Mean": 18.66926829268293}, {"GEO_CODE": "BC", "pollutant": "PM2.5", "delta": 0.5009568627450971, "Year": 2016, "Mean": 5.637843137254903}, {"GEO_CODE": "ON", "pollutant": "O3", "delta": -0.4849999999999959, "Year": 2016, "Mean": 27.605434782608693}, {"GEO_CODE": "ON", "pollutant": "PM2.5", "delta": 0.019128919860627924, "Year": 2016, "Mean": 6.526585365853658}, {"GEO_CODE": "QC", "pollutant": "O3", "delta": 0.8612737843551734, "Year": 2016, "Mean": 26.11477272727273}, {"GEO_CODE": "QC", "pollutant": "PM2.5", "delta": 0.14749662618083637, "Year": 2016, "Mean": 6.127631578947368}, {"GEO_CODE": "BC", "pollutant": "O3", "delta": -0.14973340896199971, "Year": 2019, "Mean": 18.51953488372093}, {"GEO_CODE": "BC", "pollutant": "PM2.5", "delta": 0.5009568627450971, "Year": 2019, "Mean": 6.1388}, {"GEO_CODE": "ON", "pollutant": "O3", "delta": -0.4849999999999959, "Year": 2019, "Mean": 27.120434782608697}, {"GEO_CODE": "ON", "pollutant": "PM2.5", "delta": 0.019128919860627924, "Year": 2019, "Mean": 6.545714285714286}, {"GEO_CODE": "QC", "pollutant": "O3", "delta": 0.8612737843551734, "Year": 2019, "Mean": 26.976046511627903}, {"GEO_CODE": "QC", "pollutant": "PM2.5", "delta": 0.14749662618083637, "Year": 2019, "Mean": 6.275128205128205}], "data-fb716ecdb94892994ed0637ccfee6559": [{"GEO_CODE": "BC", "pollutant": "O3", "delta": 2.6181395348837206, "Year": 2019, "Mean": 18.51953488372093}, {"GEO_CODE": "BC", "pollutant": "PM2.5", "delta": 0.36767058823529375, "Year": 2019, "Mean": 6.1388}, {"GEO_CODE": "ON", "pollutant": "O3", "delta": 0.8180758556891732, "Year": 2019, "Mean": 27.120434782608697}, {"GEO_CODE": "ON", "pollutant": "PM2.5", "delta": 0.4673089700996673, "Year": 2019, "Mean": 6.545714285714286}, {"GEO_CODE": "QC", "pollutant": "O3", "delta": -0.5502325581395304, "Year": 2019, "Mean": 26.976046511627903}, {"GEO_CODE": "QC", "pollutant": "PM2.5", "delta": 0.7431644777986248, "Year": 2019, "Mean": 6.275128205128205}, {"GEO_CODE": "BC", "pollutant": "O3", "delta": 2.6181395348837206, "Year": 2021, "Mean": 21.13767441860465}, {"GEO_CODE": "BC", "pollutant": "PM2.5", "delta": 0.36767058823529375, "Year": 2021, "Mean": 6.506470588235294}, {"GEO_CODE": "ON", "pollutant": "O3", "delta": 0.8180758556891732, "Year": 2021, "Mean": 27.93851063829787}, {"GEO_CODE": "ON", "pollutant": "PM2.5", "delta": 0.4673089700996673, "Year": 2021, "Mean": 7.013023255813954}, {"GEO_CODE": "QC", "pollutant": "O3", "delta": -0.5502325581395304, "Year": 2021, "Mean": 26.425813953488372}, {"GEO_CODE": "QC", "pollutant": "PM2.5", "delta": 0.7431644777986248, "Year": 2021, "Mean": 7.0182926829268295}], "data-c4199a00b3eab12b122b294d9e773faf": [{"GEO_CODE": "BC", "pollutant": "O3", "delta": -1.6658562367864675, "Year": 2021, "Mean": 21.13767441860465}, {"GEO_CODE": "BC", "pollutant": "PM2.5", "delta": 0.07564479638009036, "Year": 2021, "Mean": 6.506470588235294}, {"GEO_CODE": "ON", "pollutant": "O3", "delta": -0.22606619385342697, "Year": 2021, "Mean": 27.93851063829787}, {"GEO_CODE": "ON", "pollutant": "PM2.5", "delta": -0.4492137320044298, "Year": 2021, "Mean": 7.013023255813954}, {"GEO_CODE": "QC", "pollutant": "O3", "delta": 0.1968527131782949, "Year": 2021, "Mean": 26.425813953488372}, {"GEO_CODE": "QC", "pollutant": "PM2.5", "delta": -0.44480431083380534, "Year": 2021, "Mean": 7.0182926829268295}, {"GEO_CODE": "BC", "pollutant": "O3", "delta": -1.6658562367864675, "Year": 2022, "Mean": 19.471818181818183}, {"GEO_CODE": "BC", "pollutant": "PM2.5", "delta": 0.07564479638009036, "Year": 2022, "Mean": 6.582115384615384}, {"GEO_CODE": "ON", "pollutant": "O3", "delta": -0.22606619385342697, "Year": 2022, "Mean": 27.712444444444444}, {"GEO_CODE": "ON", "pollutant": "PM2.5", "delta": -0.4492137320044298, "Year": 2022, "Mean": 6.563809523809524}, {"GEO_CODE": "QC", "pollutant": "O3", "delta": 0.1968527131782949, "Year": 2022, "Mean": 26.622666666666667}, {"GEO_CODE": "QC", "pollutant": "PM2.5", "delta": -0.44480431083380534, "Year": 2022, "Mean": 6.573488372093024}]}};
      var embedOpt = {"mode": "vega-lite"};

      function showError(el, error){
          el.innerHTML = ('<div style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);

  </script>
</body>
</html>